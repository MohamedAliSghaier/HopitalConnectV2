{% extends 'base.html.twig' %}

{% block title %}Search Appointments{% endblock %}

{% block stylesheets %}
{{ parent() }}
<style>
    .rv-search-card {
        background: rgba(255, 255, 255, 0.98);
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        padding: 2rem;
    }

    .rv-search-box {
        position: relative;
        margin-bottom: 2rem;
    }

    .rv-search-input {
        border-radius: 50px;
        padding: 1rem 2rem;
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
    }

    .rv-search-input:focus {
        border-color: #4a90e2;
        box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
    }

    .rv-search-btn {
        position: absolute;
        right: 5px;
        top: 50%;
        transform: translateY(-50%);
        padding: 0.5rem 1.5rem;
        border-radius: 50px;
    }
</style>
{% endblock %}

{% block body %}
<div class="rv-search-card">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h4 mb-0"><i class="fas fa-search me-2"></i>Search Appointments</h1>
        <a href="{{ path('rendezvous_listpatient') }}" class="btn btn-sm btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i>Back
        </a>
    </div>

    <form method="post" class="rv-search-box">
        <div class="input-group">
            <input type="text" name="search_term" 
                   class="form-control rv-search-input" 
                   placeholder="Search by date, type, or time..."
                   value="{{ app.request.request.get('search_term') }}">
            <button type="submit" class="btn btn-primary rv-search-btn">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </form>

    {% if rendezvous_listpatient is not empty %}
        {% include 'rendez_vous/listpatient.html.twig' with {'rendezvous_listpatient': rendezvous_listpatient} %}
    {% else %}
        <div class="text-center py-4 text-muted">
            <i class="fas fa-inbox fa-2x mb-3"></i>
            <p class="mb-0">No appointments found matching your criteria</p>
        </div>
    {% endif %}
</div>
{% endblock %}