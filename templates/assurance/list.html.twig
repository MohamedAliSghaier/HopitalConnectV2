{% extends 'base_patient.html.twig' %}

{% block title %}Assurance List{% endblock %}

{% block stylesheets %}
{{ parent() }}
<style>
    .rv-card {
        background: rgba(255, 255, 255, 0.98);
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(10px);
    }

    .rv-table {
        --bs-table-bg: transparent;
        --bs-table-striped-bg: rgba(74, 144, 226, 0.03);
    }

    .rv-table th {
        background: linear-gradient(135deg, #4a90e2, #6c5ce7);
        color: white;
        border: none;
    }

    .rv-badge {
        background: rgba(74, 144, 226, 0.1);
        color: #4a90e2;
        border-radius: 8px;
        padding: 0.5rem 1rem;
    }
</style>
{% endblock %}

{% block body %}
<div class="content-container mt-100">

    <h1>Assurance List</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for assurance in assurance_list %}
                <tr>
                    <td>{{ assurance.nom }}</td>
                    <td>{{ assurance.type }}</td>
                    <td>{{ assurance.dateDebut|date('Y-m-d') }}</td>
                    <td>{{ assurance.dateFin|date('Y-m-d') }}</td>
                    <td>
                        <a href="{{ path('assurance_details', { id: assurance.id }) }}" class="btn btn-info">Details</a>
                        <a href="{{ path('assurance_update', { id: assurance.id }) }}" class="btn btn-primary">Edit</a>
                        <a href="{{ path('assurance_delete', { id: assurance.id }) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this assurance?');">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('assurance_add') }}" class="btn btn-success">Add New Assurance</a>
{% endblock %}
